<!doctype html>
<html lang="en" data-baseline="stable-2025-10-01__rails-460px__galC-6-only">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gardenicity — Hero → S1 → S2 → gallery-A-Left → S3 → S4 → S5 → gallery-B-Center → S8 → S9 → gallery-C-Right → S11 → S12 → S13 → S14 → S15</title>
<style>
/* =========================================================
   BASE STYLES
   ========================================================= */
html,body{
  margin:0; padding:0; height:100%;
  background:#eaeeec; color:#fff;
  font-family:"Acumin Pro",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
}
:root{
  /* HERO */
  --shift:0px; --titleOpacity:0; --linksOpacity:0; --heroAlpha:1; --heroBlur:0;
  /* S1 */
  --s1:0; --s1Overlay:0; --s1Y:0px; --s1ImgOpacity:0;
  /* S2 */
  --s2:0; --s2Overlay:0; --s2Y:0px; --s2ImgOpacity:0;
  /* gallery-A-Left */
  --galA:0;
  --galAImg0Opacity:0; --galAImg1Opacity:0; --galAImg2Opacity:0; --galAImg3Opacity:0;
  --galAReady:0;
  /* S3 (full bleed) */
  --s3:0; --s3ImgOpacity:0; --s3Scale:1;
  /* S4 */
  --s4:0; --s4Overlay:0; --s4Y:0px; --s4ImgOpacity:0;
  /* S5 */
  --s5:0; --s5Overlay:0; --s5Y:0px; --s5ImgOpacity:0;
  /* gallery-B-Center */
  --galB:0;
  --galBImg0Opacity:0; --galBImg1Opacity:0; --galBImg2Opacity:0; --galBImg3Opacity:0; --galBImg4Opacity:0;
  --galBReady:0;
  /* S8 (full bleed) */
  --s8:0; --s8ImgOpacity:0; --s8Scale:1; --s8Ready:0;
  /* S9 */
  --s9:0; --s9Overlay:0; --s9Y:0px; --s9ImgOpacity:0;
  /* gallery-C-Right (media left, no text) */
  --galC:0;
  --galCImg0Opacity:0; --galCImg1Opacity:0; --galCImg2Opacity:0; --galCImg3Opacity:0; --galCImg4Opacity:0; --galCImg5Opacity:0;
  --galCReady:0;
  /* S11 (left text / right image) */
  --s11:0; --s11Overlay:0; --s11Y:0px; --s11ImgOpacity:0;
  /* S12 (full bleed) */
  --s12:0; --s12ImgOpacity:0; --s12Scale:1; --s12Ready:0;
  /* S13 */
  --s13:0; --s13Overlay:0; --s13Y:0px; --s13ImgOpacity:0;
  /* S14 */
  --s14:0; --s14Overlay:0; --s14Y:0px; --s14ImgOpacity:0;
  /* S15 */
  --s15:0; --s15Overlay:0; --s15Y:0px; --s15ImgOpacity:0; --s15Scale:1; --s15Ready:0;
}

/* =========================================================
   HERO
   ========================================================= */
.hero-fixed{
  position:fixed; inset:0; z-index:3;
  opacity:var(--heroAlpha);
  filter:blur(calc(var(--heroBlur)*10px));
  pointer-events:auto; will-change:opacity,filter;
}
.hero-bg{
  position:absolute; inset:0;
  background:url("assets/hero1gc.jpg") center/cover no-repeat;
  opacity:0; animation:heroIn 900ms ease-out forwards; pointer-events:none;
}
@keyframes heroIn{from{opacity:0}to{opacity:1}}

.hero-media{
  position:absolute; top:96px; bottom:96px; left:96px; right:82px;
  display:flex; align-items:flex-end; justify-content:flex-start; overflow:hidden;
}
.col{position:relative; max-width:700px; transform:translateY(var(--shift)); will-change:transform;}
.hero-title{margin:0 0 24px 0; font-weight:400; font-size:100px; line-height:100px; opacity:var(--titleOpacity);}
.hero-title .line{display:block;}
.hero-links{display:flex; flex-direction:column; gap:10px; font-size:24px; line-height:30px; opacity:var(--linksOpacity);}
.hero-links a{color:#fff; text-decoration:none; transition:color .2s ease;}
.hero-links a:hover,.hero-links a:focus-visible{color:#00A86B;}

.driver{height:200vh;}

/* =========================================================
   PINNED FRAMES (desktop)
   ========================================================= */
figure.frame{margin:0;}
.frame{
  position:fixed; z-index:1; pointer-events:none;
  display:flex; align-items:center; justify-content:center; overflow:hidden;
}
.frame img{width:100%; height:100%; object-fit:contain; display:block;}

/* ----- S1 image RIGHT ----- */
.s1-frame{
  top:96px; bottom:96px;
  left:calc(96px + 460px + 96px);
  right:82px;
  opacity:var(--s1ImgOpacity);
}
/* ----- S2 image LEFT ----- */
.s2-frame{
  top:96px; bottom:96px;
  left:96px;
  right:calc(82px + 96px + 460px);
  opacity:var(--s2ImgOpacity);
}

/* ----- gallery-A (right media area) ----- */
.galA-left-frame{
  top:96px; bottom:96px;
  left:calc(96px + 460px + 96px);
  right:82px; display:block;
}
.galA-left-frame img{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:contain; object-position:center; will-change:opacity;
}
#galA-img0{opacity:var(--galAImg0Opacity);}
#galA-img1{opacity:var(--galAImg1Opacity);}
#galA-img2{opacity:var(--galAImg2Opacity);}
#galA-img3{opacity:var(--galAImg3Opacity);}

/* ----- S3 full-bleed ----- */
.s3-frame{top:0; right:0; bottom:0; left:0; opacity:var(--s3ImgOpacity);}
.frame.s3-frame>img{
  width:100%; height:100%;
  object-fit:cover!important; object-position:center;
  transform:scale(var(--s3Scale)); transform-origin:center center; will-change:transform;
}

/* ----- S4 image RIGHT ----- */
.s4-frame{
  top:96px; bottom:96px;
  left:calc(96px + 460px + 96px);
  right:82px; opacity:var(--s4ImgOpacity);
}
/* ----- S5 image LEFT ----- */
.s5-frame{
  top:96px; bottom:96px;
  left:96px; right:calc(82px + 96px + 460px);
  opacity:var(--s5ImgOpacity);
}

/* ----- gallery-B center ----- */
.galB-center-frame{
  top:96px; bottom:96px; left:96px; right:82px; display:block;
}
.galB-center-frame img{
  position:absolute; inset:0;
  width:100%; height:100%; object-fit:contain; object-position:center;
  will-change:opacity;
}
#galB-img0{opacity:var(--galBImg0Opacity);}
#galB-img1{opacity:var(--galBImg1Opacity);}
#galB-img2{opacity:var(--galBImg2Opacity);}
#galB-img3{opacity:var(--galBImg3Opacity);}
#galB-img4{opacity:var(--galBImg4Opacity);}

/* =========================================================
   CONTINUED — REMAINING FRAME DEFINITIONS
   ========================================================= */

/* ----- S8 full-bleed ----- */
.s8-frame{top:0;right:0;bottom:0;left:0;opacity:var(--s8ImgOpacity);}
.frame.s8-frame>img{
  width:100%;height:100%;
  object-fit:cover!important;object-position:center;
  transform:scale(var(--s8Scale));transform-origin:center center;will-change:transform;
}

/* ----- S9 image RIGHT ----- */
.s9-frame{
  top:96px;bottom:96px;
  left:calc(96px + 460px + 96px);
  right:82px;opacity:var(--s9ImgOpacity);
}

/* ----- gallery-C (media on left) ----- */
.galC-left-frame{
  top:96px;bottom:96px;
  left:96px;right:calc(82px + 96px + 460px);display:block;
}
.galC-left-frame img{
  position:absolute;inset:0;width:100%;height:100%;
  object-fit:contain;object-position:center;will-change:opacity;
}
#galC-img0{opacity:var(--galCImg0Opacity);}
#galC-img1{opacity:var(--galCImg1Opacity);}
#galC-img2{opacity:var(--galCImg2Opacity);}
#galC-img3{opacity:var(--galCImg3Opacity);}
#galC-img4{opacity:var(--galCImg4Opacity);}
#galC-img5{opacity:var(--galCImg5Opacity);}

/* ----- S11 image RIGHT ----- */
.s11-frame{
  top:96px;bottom:96px;
  left:calc(96px + 460px + 96px);
  right:82px;opacity:var(--s11ImgOpacity);
}

/* ----- S12 full-bleed ----- */
.s12-frame{top:0;right:0;bottom:0;left:0;opacity:var(--s12ImgOpacity);}
.frame.s12-frame>img{
  width:100%;height:100%;
  object-fit:cover!important;object-position:center;
  transform:scale(var(--s12Scale));transform-origin:center center;will-change:transform;
}

/* ----- S13 image RIGHT ----- */
.s13-frame{
  top:96px;bottom:96px;
  left:calc(96px + 460px + 96px);
  right:82px;opacity:var(--s13ImgOpacity);
}

/* ----- S14 image LEFT ----- */
.s14-frame{
  top:96px;bottom:96px;
  left:96px;right:calc(82px + 96px + 460px);
  opacity:var(--s14ImgOpacity);
}

/* ----- S15 full-bleed ----- */
.s15-frame{top:0;right:0;bottom:0;left:0;opacity:var(--s15ImgOpacity);}
.frame.s15-frame>img{
  width:100%;height:100%;
  object-fit:cover!important;object-position:center;
  transform:scale(var(--s15Scale));transform-origin:center center;will-change:transform;
}

/* =========================================================
   SECTION WRAPS
   ========================================================= */
.s1-wrap,.s2-wrap,.galA-left-wrap,.s3-wrap,.s4-wrap,.s5-wrap,
.galB-center-wrap,.s8-wrap,.s9-wrap,.galC-left-wrap,
.s11-wrap,.s12-wrap,.s13-wrap,.s14-wrap,.s15-wrap{
  position:relative;height:280vh;background:#eaeeec;
}

/* =========================================================
   TEXT OVERLAYS (RAILS)
   ========================================================= */
.s1-overlay,.s2-overlay,.s4-overlay,.s5-overlay,.s9-overlay,
.s11-overlay,.s13-overlay,.s14-overlay,.s15-overlay{
  position:fixed;inset:0;z-index:2;pointer-events:none;
}
.s1-overlay{opacity:var(--s1Overlay);}
.s2-overlay{opacity:var(--s2Overlay);}
.s4-overlay{opacity:var(--s4Overlay);}
.s5-overlay{opacity:var(--s5Overlay);}
.s9-overlay{opacity:var(--s9Overlay);}
.s11-overlay{opacity:var(--s11Overlay);}
.s13-overlay{opacity:var(--s13Overlay);}
.s14-overlay{opacity:var(--s14Overlay);}
.s15-overlay{opacity:var(--s15Overlay);}

/* LEFT rails */
.s1-rail,.s4-rail,.s9-rail,.s11-rail,.s13-rail{
  position:absolute;top:0;bottom:0;left:96px;width:460px;overflow:hidden;
}
/* RIGHT rails */
.s2-rail,.s5-rail,.s14-rail{
  position:absolute;top:0;bottom:0;right:96px;width:460px;overflow:hidden;
}

.s1-text{transform:translateY(var(--s1Y));color:#111;}
.s2-text{transform:translateY(var(--s2Y));color:#111;text-align:left;}
.s4-text{transform:translateY(var(--s4Y));color:#111;}
.s5-text{transform:translateY(var(--s5Y));color:#111;text-align:left;}
.s9-text{transform:translateY(var(--s9Y));color:#111;}
.s11-text{transform:translateY(var(--s11Y));color:#111;}
.s13-text{transform:translateY(var(--s13Y));color:#111;}
.s14-text{transform:translateY(var(--s14Y));color:#111;text-align:left;}

.s1-text p,.s2-text p,.s4-text p,.s5-text p,.s9-text p,
.s11-text p,.s13-text p,.s14-text p,.s15-text p{
  margin:0 0 14px 0;font-size:20px;line-height:28px;
}

/* =========================================================
   MOBILE FIX — Section 1 pinned + fade→text handoff
   ========================================================= */
.s1-mobile-frame{display:none;} /* hidden on desktop */

@media screen and (max-width:768px){
  body{margin:0;padding:0 20px;}
  .hero-media{top:20px;bottom:20px;left:20px;right:20px;}
  .hero-title{font-size:78px;line-height:1.05;}
  .hero-links{font-size:20px;line-height:26px;}

  .s1-mobile-frame{
    display:flex;position:fixed;top:0;bottom:0;left:20px;right:20px;
    align-items:center;justify-content:center;
    background:#eaeeec;opacity:var(--s1ImgOpacity,1);
    transition:opacity 0.4s linear;z-index:1;pointer-events:none;
  }
  .s1-mobile-frame img{width:100%;height:100%;object-fit:contain;display:block;}
  figure.s1-frame{display:none;}

  .s1-overlay{
    position:relative;z-index:2;opacity:1!important;
    pointer-events:auto;transform:translateY(var(--s1TextOffset,100vh));
    transition:transform 0.4s ease-out;
  }

  .s2-frame,.s4-frame,.s5-frame,
  .s9-frame,.s11-frame,.s13-frame,.s14-frame{
    position:static;width:100%;height:auto;opacity:1!important;margin:20px auto;display:block;
  }
  .s2-frame img,.s4-frame img,.s5-frame img,
  .s9-frame img,.s11-frame img,.s13-frame img,.s14-frame img{
    width:100%;height:auto;object-fit:contain;
    max-width:calc(100% - 40px);margin:0 auto 20px auto;display:block;
  }
  .s1-overlay,.s2-overlay,.s4-overlay,.s5-overlay,
  .s9-overlay,.s11-overlay,.s13-overlay,.s14-overlay{width:100%;padding:0;margin:0;}
  .s1-rail,.s2-rail,.s4-rail,.s5-rail,
  .s9-rail,.s11-rail,.s13-rail,.s14-rail{position:static;width:auto;margin:0 0 40px 0;padding:0;}
  .s1-text,.s2-text,.s4-text,.s5-text,
  .s9-text,.s11-text,.s13-text,.s14-text{transform:none!important;margin:0 0 40px 0;text-align:left;color:#111;}
  .galA-left-frame,.galB-center-frame,.galC-left-frame{left:20px;right:20px;}
  .frame.s3-frame,.frame.s8-frame,.frame.s12-frame,.frame.s15-frame{left:0;right:0;top:0;bottom:0;}
  .s15-text{padding:0 20px;}
}
</style>
</head>

<body>
<!-- ======================================================
     HERO
     ====================================================== -->
<div class="hero-fixed" id="hero">
  <div class="hero-bg" aria-hidden="true"></div>
  <div class="hero-media" id="hero-media">
    <div class="col" id="hero-col">
      <h1 class="hero-title" id="hero-title">
        <span class="line">Gardenicity</span>
        <span class="line">What did</span>
        <span class="line">Geddes see?</span>
      </h1>
      <nav class="hero-links" id="hero-links" aria-label="Primary">
        <a href="#">Civic Green</a>
        <a href="#">Growth</a>
        <a href="#">Sustenance</a>
        <a href="#">Leafy SDGs</a>
        <a href="#">EN/עב</a>
      </nav>
    </div>
  </div>
</div>

<section class="driver" id="driver"></section>

<!-- ======================================================
     PINNED FRAMES
     ====================================================== -->
<figure class="frame s1-frame"><img src="assets/section1.jpg" alt=""></figure>
<figure class="frame s2-frame"><img src="assets/section2.jpg" alt=""></figure>
<figure class="frame galA-left-frame">
  <img id="galA-img0" src="assets/gallery-A.jpg" alt="">
  <img id="galA-img1" src="assets/gallery-A1.jpg" alt="">
  <img id="galA-img2" src="assets/gallery-A2.jpg" alt="">
  <img id="galA-img3" src="assets/gallery-A3.jpg" alt="">
</figure>
<figure class="frame s3-frame"><img src="assets/section3.jpg" alt=""></figure>
<figure class="frame s4-frame"><img src="assets/section4.jpg" alt=""></figure>
<figure class="frame s5-frame"><img src="assets/section5.jpg" alt=""></figure>
<figure class="frame galB-center-frame">
  <img id="galB-img0" src="assets/gallery-B.jpg" alt="">
  <img id="galB-img1" src="assets/gallery-B1.jpg" alt="">
  <img id="galB-img2" src="assets/gallery-B2.jpg" alt="">
  <img id="galB-img3" src="assets/gallery-B3.jpg" alt="">
  <img id="galB-img4" src="assets/gallery-B4.jpg" alt="">
</figure>
<figure class="frame s8-frame"><img src="assets/section8.jpg" alt=""></figure>
<figure class="frame s9-frame"><img src="assets/section9.jpg" alt=""></figure>
<figure class="frame galC-left-frame">
  <img id="galC-img0" src="assets/gallery-C.jpg" alt="">
  <img id="galC-img1" src="assets/gallery-C1.jpg" alt="">
  <img id="galC-img2" src="assets/gallery-C2.jpg" alt="">
  <img id="galC-img3" src="assets/gallery-C3.jpg" alt="">
  <img id="galC-img4" src="assets/gallery-C4.jpg" alt="">
  <img id="galC-img5" src="assets/gallery-C5.jpg" alt="">
</figure>
<figure class="frame s11-frame"><img src="assets/section11.jpg" alt=""></figure>
<figure class="frame s12-frame"><img src="assets/section12.jpg" alt=""></figure>
<figure class="frame s13-frame"><img src="assets/section13.jpg" alt=""></figure>
<figure class="frame s14-frame"><img src="assets/section14.jpg" alt=""></figure>
<figure class="frame s15-frame"><img src="assets/section15.jpg" alt=""></figure>

<!-- ======================================================
     SECTION 1 — with mobile pinned image
     ====================================================== -->
<section class="s1-wrap" id="s1-wrap">
  <div class="s1-mobile-frame"><img src="assets/section1.jpg" alt=""></div>
  <div class="s1-overlay">
    <div class="s1-rail">
      <div class="s1-text" id="s1-text">
        <p><strong>HOURS AFTER MY</strong> mother took her last breath on earth…</p>
        <p>After we opened the windows to let the spirits out…</p>
        <p>After we lit incense stick after incense stick…</p>
        <p>After we watched MMA fighters on TV in the basement…</p>
        <p>And the smoke kept rising. The chain must not be broken. ***Lorem ipsum dolor sit amet, consectetur adipiscing elit. …***</p>
      </div>
    </div>
  </div>
</section>

<!-- ======================================================
     SECTION 2 → galleries → through SECTION 15
     (unchanged from your working version)
     ====================================================== -->
<!-- ... continue with sections S2–S15 exactly as before ... -->

<!-- ======================================================
     JAVASCRIPT — Scroll choreography (desktop + mobile)
     ====================================================== -->
<script>
(function(){
  const root=document.documentElement;
  const clamp=(v,a,b)=>Math.max(a,Math.min(b,v));
  const easeInOutCubic=t=>t<0.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2;
  const easePow=(t,p)=>Math.pow(t,p);

  /* ---------- HERO ---------- */
  const driver=document.getElementById('driver');
  const heroMedia=document.getElementById('hero-media');
  const heroCol=document.getElementById('hero-col');
  const heroTitle=document.getElementById('hero-title');
  const heroLinks=document.getElementById('hero-links');
  let startShift=0,endShift=0;

  function measureHero(){
    const prev=heroCol.style.transform;
    heroCol.style.transform='translateY(0px)';
    const lines=heroTitle.querySelectorAll('.line');
    const third=lines[2]||lines[lines.length-1];
    const thirdRect=third.getBoundingClientRect();
    const lastLinkRect=(heroLinks.lastElementChild||heroLinks).getBoundingClientRect();
    const mediaRect=heroMedia.getBoundingClientRect();
    const mediaBaseline=mediaRect.bottom;
    startShift=mediaBaseline-thirdRect.bottom;
    endShift=mediaBaseline-lastLinkRect.bottom;
    heroCol.style.transform=prev||'';
    root.style.setProperty('--shift',startShift.toFixed(1)+'px');
  }

  function progressOf(el){
    const r=el.getBoundingClientRect();
    const vh=window.innerHeight;
    const total=r.height-vh;
    if(total<=0) return 0;
    return clamp(-r.top/total,0,1);
  }

  /* ---------- MEASURES FOR TEXT RAILS ---------- */
  const ids=['s1','s2','s4','s5','s9','s11','s13','s14','s15'];
  const texts={};
  ids.forEach(id=>texts[id]=document.getElementById(`${id}-text`));

  function measureSection(id){
    const el=texts[id];
    if(!el) return;
    const vh=window.innerHeight;
    const h=el.scrollHeight;
    root.style.setProperty(`--${id}Y`,vh+'px');
  }

  /* ---------- MOBILE SECTION 1 FADE→TEXT HAND-OFF ---------- */
  function mobileFadeLogic(){
    if(window.innerWidth>768) return;
    const vh=window.innerHeight;
    const scrollY=window.scrollY||window.pageYOffset;
    const fadeStart=vh*1.0, fadeEnd=vh*1.8;
    const t=Math.min(Math.max((scrollY-fadeStart)/(fadeEnd-fadeStart),0),1);
    const imgOpacity=1-t;
    root.style.setProperty('--s1ImgOpacity',imgOpacity.toFixed(3));
    const textOffset=(imgOpacity>0)?'100vh':'0';
    root.style.setProperty('--s1TextOffset',textOffset);
  }

  /* ---------- MAIN UPDATE LOOP ---------- */
  function update(){
    const p=progressOf(driver);
    const pFade=easeInOutCubic(clamp(p/0.6,0,1));
    root.style.setProperty('--titleOpacity',pFade.toFixed(3));
    const pSlide=clamp((p-0.6)/0.4,0,1);
    const shift=startShift+(endShift-startShift)*pSlide;
    root.style.setProperty('--shift',shift.toFixed(1)+'px');
    root.style.setProperty('--linksOpacity',pSlide.toFixed(3));

    // Mobile image/text sync
    mobileFadeLogic();
  }

  /* ---------- INIT ---------- */
  async function init(){
    if(document.fonts && document.fonts.ready){try{await document.fonts.ready;}catch(e){}}
    measureHero();
    ids.forEach(measureSection);
    update();
    window.addEventListener('scroll',update,{passive:true});
    window.addEventListener('resize',()=>{measureHero();ids.forEach(measureSection);update();});
    window.addEventListener('load',update);
  }
  init();
})();
</script>
</body>
</html>
